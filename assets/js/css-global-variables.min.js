const{keys}=Object;const{assign}=Object;var isString=a=>typeof a==='string';var isBool=a=>typeof a==='boolean';var isFn=a=>typeof a==='function';(function(){"use strict";let A=0;window.CSSGlobalVariables=(_={})=>{if(!import.meta)throw Error('Calling CSSGlobalVariables constructor without "new" is forbidden');var b={filter:!1,autoprefix:!0,normalize:!1};if(typeof _!=='object')throw Error('CSSGlobalVariables constructor expects a config Object as first argument');if(_.hasOwnProperty('normalize')&&!isFn(_.normalize))throw Error('Config property "normalize" must be a function');if(_.hasOwnProperty('autoprefix')&&!isBool(_.autoprefix))throw Error('Config property "autoprefix" must be a boolean');if(_.hasOwnProperty('filter'))if(!isString(_.filter))throw Error('Config property "filter" must be a string');else try{document.querySelectorAll(_.filter)}catch(e){throw Error('Provided "filter" is an invalid selector ("'+_.filter+'")')}assign(b,_);b.id=A++;var c={};var d=new Proxy(c, {get:function(B,C){C=e(C);return Reflect.get(B,C)},set:function(_a,_b,_c){_b=e(_b);_c=`${_c}`;document.documentElement.style.setProperty(_b,_c);return Reflect.set(_a,_b,_c)},deleteProperty:function(){return!1},has:function(D,_B){_B=e(_B);return Reflect.has(D,_B)},defineProperty:function(_A,E,_C){E=e(E);if(typeof _C==='object'&&_C.hasOwnProperty('value')){let aA=`${_C.value}`;document.documentElement.style.setProperty(E,aA);Reflect.set(_A,E,aA)}return _A},ownKeys:function(aB){return Reflect.ownKeys(aB)},getOwnPropertyDescriptor:function(aC,aD){aD=e(aD);return Reflect.getOwnPropertyDescriptor(aC,aD)}});function e(aE=''){aE=`${aE}`;b.normalize&&(aE=b.normalize(aE));if(aE.substring(0,2)!=='--')if(b.autoprefix)aE=`--${aE}`;else throw Error('Invalid CSS Variable name. Name must start with "--" (autoprefix=false)');return aE}function f(){for(const aF of document.styleSheets){if(aF.ownerNode.getAttribute('css-global-vars-ignore'))continue;if(b.filter){let aI=document.querySelectorAll(b.filter);let aJ=!1;for(let i in keys(aI))if(aI[i]===aF.ownerNode){aJ=!0;break}if(!aJ){continue}}let aG=!1;try{}catch(e){!aF.ownerNode.hasAttribute('css-global-vars-ignore')?(aF.ownerNode.setAttribute('css-global-vars-ignore',!0),console.warn('Cross Origin Policy restrictions are blocking the access to the CSS rules of a remote stylesheet. The affected stylesheet is going to be ignored by CSSGlobalVariables. Check the documentation for instructions to prevent this issue.')):(console.warn('Unexpected error reading CSS properties.'));aG=!0}if(aG)continue;let aH=aF.ownerNode.getAttribute('css-global-vars-id');if(`${aH}`.split(',').includes(`${b.id}`))continue;else{let aK=aF.ownerNode.getAttribute('css-global-vars-id');aK===null||aK===''?aK=b.id:aK+=','+b.id;aF.ownerNode.setAttribute('css-global-vars-id',aK)}for(const aL of [...aF.rules||aF.cssRules])if(aL.selectorText===':root'){let aM=aL.cssText.split('{');aM=aM[1].replace('}','').split(';');for(let i=0;i<aM.length;i++){let aN=aM[i].split(':');(aN.length===2&&aN[0].indexOf('--')===1)&&(c[aN[0].trim()]=aN[1].trim())}}}for(const p of keys(c))c[p]=window.getComputedStyle(document.documentElement,null).getPropertyValue(p).trim();return!0}var g=new MutationObserver(aO=>{let aP=!1;for(const aQ of aO)if(aQ.type==='childList'){for(let i=0;i<aQ.addedNodes.length;i++)(aQ.addedNodes[i].tagName==='STYLE'||aQ.addedNodes[i].tagName==='LINK')&&(aP=!0);for(let i=0;i<aQ.removedNodes.length;i++)(aQ.removedNodes[i].tagName==='STYLE'||aQ.removedNodes[i].tagName==='LINK')&&(aP=!0)}aP&&setTimeout(f,500)});g.observe(document.documentElement,{attributes:!1,childList:!0,characterData:!0,subtree:!0});f();return d}})();
